# Prime Finder 16位素数检测器 - 视频演示脚本

> **Group 55** | 开发板演示指南 | 时长约3分钟

---

## 一、开发板接口说明

### 1.1 输入设备

| 设备 | 位置 | 功能 |
|------|------|------|
| **SW[7:0]** | 底部8个开关 | 输入8位数据 (ON=1, OFF=0) |
| **KEY0** | 右侧按键 | 锁存高8位 / 重新开始 |
| **KEY1** | 右侧按键 | 锁存低8位 + 开始计算 |

### 1.2 输出设备

#### LED 指示灯
```
LED9  LED8  LED7  LED6  LED5  LED4  LED3  LED2  LED1  LED0
 ↓     ↓     ↓     ↓     ↓     └────────────────────────┘
质数   HI    LO   计算  结果        除法次数(二进制)
结果  状态  状态  状态  状态
```

| LED | 含义 |
|:---:|------|
| **LED9** | ⭐ **质数结果**: 亮=是质数, 灭=不是质数 |
| LED8 | WAIT_HIGH 状态 (等待输入高8位) |
| LED7 | WAIT_LOW 状态 (等待输入低8位) |
| LED6 | COMPUTING 状态 (正在计算) |
| LED5 | SHOW_RESULT 状态 (显示结果) |
| LED4-0 | 除法次数 (二进制显示) |

#### 七段数码管 (HEX5-HEX0)
```
┌─────┬─────┬─────┬─────┬─────┬─────┐
│HEX5 │HEX4 │HEX3 │HEX2 │HEX1 │HEX0 │
└─────┴─────┴─────┴─────┴─────┴─────┘
```

| 状态 | HEX5-4 | HEX3-2 | HEX1-0 |
|------|:------:|:------:|:------:|
| 等待高位 | **HI** | -- | SW当前值 |
| 等待低位 | **LO** | 已锁存高位 | -- |
| 计算中 | **--** | 减法次数/100 | 减法次数%100 |
| 显示结果 | **除法次数** | 减法次数/100 | 减法次数%100 |

---

## 二、操作流程图

```
┌─────────────────────────────────────────────────────────┐
│                    操作流程                              │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  Step 1: 设置高8位                                      │
│  ┌─────────────────────────────────────────┐           │
│  │ • 拨动 SW[7:0] 设置高8位数值             │           │
│  │ • HEX 显示 "HI" + SW当前值              │           │
│  │ • LED8 亮 (WAIT_HIGH状态)               │           │
│  └─────────────────────────────────────────┘           │
│                         ↓ 按 KEY0                       │
│                                                         │
│  Step 2: 设置低8位                                      │
│  ┌─────────────────────────────────────────┐           │
│  │ • 拨动 SW[7:0] 设置低8位数值             │           │
│  │ • HEX 显示 "LO" + 已锁存的高位           │           │
│  │ • LED7 亮 (WAIT_LOW状态)                │           │
│  └─────────────────────────────────────────┘           │
│                         ↓ 按 KEY1                       │
│                                                         │
│  Step 3: 计算中                                         │
│  ┌─────────────────────────────────────────┐           │
│  │ • HEX 显示 "--" + 实时减法计数           │           │
│  │ • LED6 亮 (COMPUTING状态)               │           │
│  │ • 数字快速跳动显示计算进度               │           │
│  └─────────────────────────────────────────┘           │
│                         ↓ 自动                          │
│                                                         │
│  Step 4: 显示结果                                       │
│  ┌─────────────────────────────────────────┐           │
│  │ • HEX5-4 显示除法次数                    │           │
│  │ • HEX3-0 显示减法总次数                  │           │
│  │ • LED9 亮=质数, LED9 灭=合数             │           │
│  │ • LED5 亮 (SHOW_RESULT状态)             │           │
│  └─────────────────────────────────────────┘           │
│                         ↓ 按 KEY0 重新开始              │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

## 三、演示示例 1: N=97 (质数)

### 3.1 数值说明
```
N = 97 (十进制)
N = 0x0061 (十六进制)
高8位 = 0x00 = 00000000
低8位 = 0x61 = 01100001
```

### 3.2 演示步骤

#### 【镜头1】初始状态 (5秒)
**旁白**: "现在演示16位素数检测器，我们来测试数字97是否为质数。"

**画面**: 
- 显示开发板全貌
- HEX 显示 "HI 00"
- LED8 亮

---

#### 【镜头2】输入高8位 (10秒)
**旁白**: "首先输入高8位。97的十六进制是0x0061，高8位是0x00，所以所有开关保持OFF。"

**操作**:
1. 确保 SW[7:0] = `00000000` (全部OFF)
2. HEX1-0 显示 "00"

**旁白**: "按下KEY0锁存高8位。"

**操作**: 按下 KEY0

**画面变化**:
- HEX 变为 "LO 00"
- LED8 灭, LED7 亮

---

#### 【镜头3】输入低8位 (15秒)
**旁白**: "现在输入低8位。0x61等于二进制01100001。"

**操作**: 依次拨动开关
```
SW7=0, SW6=1, SW5=1, SW4=0, SW3=0, SW2=0, SW1=0, SW0=1
       ↑      ↑                                    ↑
      ON     ON                                   ON
```

**旁白**: "开关SW6、SW5、SW0拨到ON位置，其他保持OFF。"

**画面**: HEX2-1 显示 "00" (已锁存的高位)

**旁白**: "按下KEY1开始计算。"

**操作**: 按下 KEY1

---

#### 【镜头4】计算过程 (10秒)
**画面变化**:
- HEX 显示 "-- XX XX" (XX为跳动的数字)
- LED7 灭, LED6 亮

**旁白**: "系统正在使用6k±1优化算法进行计算。HEX3-0显示的是实时减法次数，可以看到数字在快速增加。"

---

#### 【镜头5】显示结果 (15秒)
**画面变化**:
- HEX 显示 "04 00 64" (示例值)
- LED6 灭, LED5 亮
- **LED9 亮** ⭐

**旁白**: "计算完成！观察结果："
- "HEX5-4显示04，表示只进行了4次除法操作"
- "HEX3-0显示0064，表示总共进行了64次减法"
- "最重要的是LED9亮了，说明97是质数！"

**旁白**: "传统方法需要测试2到96共95个除数，而我们的6k±1优化只需要4次除法，效率提升超过20倍！"

---

## 四、演示示例 2: N=100 (合数)

### 4.1 数值说明
```
N = 100 (十进制)
N = 0x0064 (十六进制)
高8位 = 0x00 = 00000000
低8位 = 0x64 = 01100100
```

### 4.2 演示步骤

#### 【镜头1】重新开始 (5秒)
**旁白**: "现在测试数字100，这是一个合数。按KEY0重新开始。"

**操作**: 按下 KEY0

**画面**: 回到 "HI" 状态

---

#### 【镜头2】输入高8位 (5秒)
**旁白**: "高8位同样是0x00。"

**操作**: 
- SW[7:0] = `00000000`
- 按下 KEY0

---

#### 【镜头3】输入低8位 (10秒)
**旁白**: "低8位是0x64，二进制01100100。"

**操作**: 拨动开关
```
SW7=0, SW6=1, SW5=1, SW4=0, SW3=0, SW2=1, SW1=0, SW0=0
       ↑      ↑                    ↑
      ON     ON                   ON
```

**旁白**: "SW6、SW5、SW2拨到ON。按KEY1开始。"

**操作**: 按下 KEY1

---

#### 【镜头4】快速得出结果 (10秒)
**画面变化**:
- 计算非常快速完成
- HEX 显示 "01 00 00"
- LED5 亮
- **LED9 灭** ⭐

**旁白**: "注意！这次计算几乎瞬间完成。因为100是偶数，系统检测到能被2整除后立即停止。"
- "HEX5-4显示01，只进行了1次除法"
- "HEX3-0显示0000，没有减法操作（偶数检测用位运算）"
- "LED9灭了，说明100不是质数"

---

## 五、总结画面 (20秒)

**旁白**: "总结一下演示的两个例子："

| 测试数 | 除法次数 | 减法次数 | LED9 | 结果 |
|:------:|:--------:|:--------:|:----:|:----:|
| 97 | 4 | ~64 | 亮 | ✅ 质数 |
| 100 | 1 | 0 | 灭 | ❌ 合数 |

**旁白**: 
"我们的16位素数检测器实现了多项优化："
1. "6k±1算法：只测试2、3和6k±1形式的除数，大幅减少除法次数"
2. "CLA超前进位加法器：加速每次减法运算"
3. "平方根终止：当除数平方超过N时停止"
4. "HEX显示的除法次数和减法次数，直观展示了优化效果"

**旁白**: "演示完毕，谢谢观看！"

---

## 六、常见问题

### Q1: 为什么有时候计算很慢？
大质数（如大于1000的质数）需要测试更多除数，计算时间会更长。

### Q2: HEX显示数字溢出怎么办？
减法次数最大显示9999，超过会显示99 99。

### Q3: LED9一直不亮？
确认输入的是质数。也可能是输入错误，按KEY0重新开始。

---

*本脚本配合 Prime_Finder_16bit_Top_Group55 使用*
